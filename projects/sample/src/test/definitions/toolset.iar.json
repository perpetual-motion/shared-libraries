{
  "name": "IAR C/C++ [ARM]",
  "discover": {
    "binary": "iccarm",
    "requirements": {
      "version": {
        "regex": "^(\\d{1,2}[.]\\d+[.]\\d+[.]\\d+)(?:/\\S*)?$"
      },
      "IAR": {
        "folder": "${binary}/../../" // the root of the IAR installation is two folders up from the binary
      },
    }
  },
  "defaults": {
    "target": {
      "compiler": "gcc", // this just gets us the 'base' that EDG will think it is
      "architecture": "arm", // we can have a common file that remaps this to something else if needed
      "bits": 32, // another hint for later.
      "platform": "none" // bare-metal target. (can be remaped to windows/macos/linux if needed to make EDG happy)
    },
    "includePath": [ // we can't get the include path from the compiler, so we had to explicity state it
      "${IAR}/inc/cpp" // include folder for c++ headers in IAR
    ]
  },
  "query": {
    "${tmp.c} --c++ --predef_macros ${tmp.stdout} --output ${tmp.o}": {
      "defines": "^#define (\\S*) ?(.*)?$",
      "cStandard": "^#define __STDC_VERSION__\\s*(.*)",
      "cppStandard": "^#define __cplusplus\\s*(.*)",
    }
  }
}